package j20220805.Mega_2;

import java.io.File;
import java.io.FileInputStream;
import java.io.PrintWriter;
import java.util.Enumeration;
import java.util.Properties;


public class Mega_2 {
	public static String path = "/project/share/file1/mega_2/mega_2.txt";
	public Mega_2() {
		
	}
	
	
	public static void main(String[] args) throws Exception {
		
		
		File file = new File(path);
		Properties pro = new Properties();
		
		pro.put("an_1", "j20220805.Mega_2.An_1");
		pro.put("an_2", "j20220805.Mega_2.An_2");
		pro.put("an_3", "j20220805.Mega_2.An_3");
		pro.put("an_4", "j20220805.Mega_2.An_4");
		pro.put("an_5", "j20220805.Mega_2.An_5");
		
		PrintWriter write = new PrintWriter(file);
		for (int i = 0; i < 5; i++) {
			write.write("an_"+(i+1) +"= j20220805.Mega_2.An_"+(i+1)+"\n");
		}
		write.flush();
		
		pro.load(new FileInputStream(file));
		Enumeration en = pro.elements();

		String str[] = new String[pro.size()];
		int i = 0;
		//Enumeration 에서 키값 or value 추출
		while(en.hasMoreElements()) {
			str[i]=(String)en.nextElement();
			i++;
		}
		
		for (i = 0; i < str.length; i++) {
			String objectvalue = (String)str[i];
			An me = (An) Class.forName(objectvalue).newInstance();
			me.Print();
		}
	}
	
}
